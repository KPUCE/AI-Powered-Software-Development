# 🧭 Product Requirement Document (PRD)
### Project: FreeDivingLog — Freedive Log & Training App  


## 1️⃣ 개요 (Overview)

### 🎯 제품 목적
**FreeDivingLog**는 Apple Watch Ultra 2와 iPhone을 활용하여 프리다이버의 **실시간 다이빙 모니터링**, **안전 경고**, **로그 기록**를 통합 제공하는 앱이다. 프리다이빙의 본질인 “한 번의 숨, 깊은 몰입”을 기술적으로 지원하고, 데이터 기반의 안전한 다이빙 문화를 확산시키는 것을 목표로 한다.

---

## 2️⃣ 제품 목표 및 핵심 가치 (Goals & Value Proposition)

| 목표 | 설명 |
|------|------|
| **프리다이버 전용 기록 시스템 구축** | 스쿠버 중심의 기존 앱과 달리, 프리다이빙에 특화된 UX와 데이터 설계 |
| **안전성 향상** | 상승속도, 휴식시간, 목표깊이 등 실시간 안전 알림 |
| **데이터 중심의 자기개발** | 로그 분석과 훈련 관리, AI 기반 코칭 |
| **Apple 생태계 최적화** | Watch + iPhone + HealthKit 완전 연동 |
| **심플한 UX/UI** | 물속에서도 한눈에 읽히는 인터페이스, 최소한의 조작 |

---

## 3️⃣ 주요 기능 요약 (Key Features)

| 구분 | Apple Watch Ultra 2 | iPhone |
|------|----------------------|---------|
| **실시간 모니터링** | 수심, 시간, 상승속도, 휴식시간, 목표깊이 진동 알림 | - |
| **로그 기록 및 동기화** | 자동 저장 및 오프라인 임시저장 | 로그 분석, 수심-시간 그래프 |
| **안전 알림** | 상승속도, 회복시간, 목표깊이 알림 | 설정/커스터마이즈 |
| **분석 기능** | - | 세션별 통계, PB 분석 |
| **설정 관리** | 사용자 설정(깊이, 알림, 장비) | 전체 설정 동기화 |

---

## 4️⃣ 기능적 요구사항 (Functional Requirements)

### 🕶 Apple Watch Ultra 2

#### [F1] 홈 화면
- 환경 설정, PB(Personal Best): 최대수심, 최대 잠수시간 표시  
  
#### [F2] 다이브 세션 자동 감지
- 수심 변화(≥1m, 지속 ≥2초) 시 다이브 세션 자동 시작
- 표면 수심(0m±0.3m) 복귀 시 자동 종료
- 세션별 Dive Count 자동 증가

#### [F3] 실시간 수심/잠수시간/수온 표시
- 수심(0.1m 단위), 잠수경과시간(초 단위), 수온 실시간 업데이트
- 큰 글자 / 고대비 UI (가독성 중심)

#### [F4] 목표깊이 및 상승속도 알림
- 목표 깊이 도달 시 햅틱 진동  
- 상승속도 > 1.2m/s 시 경고 진동 및 붉은 UI 표시

#### [F5] 수면 모드
- 다이브 최대 수심, 잠수시간, 세션 최대수심, 세션 최대 잠수시간 표시  

#### [F6] 표면 회복 타이머
- 수면 도달 시 자동 타이머 시작  
- 설정된 회복 시간(예: 2분) 미만 시 다음 다이브 시 경고

#### [F7] 오프라인 데이터 저장
- 네트워크 연결 없이도 세션 로컬 저장  
- iPhone 연결 시 자동 전송

---

### 📱 iPhone

#### [F8] 로그 동기화 및 시각화
- Watch 앱 로그 자동 수신  
- 다이브별 수심-시간 그래프 생성  
- 세션별 통계: 최대수심, 평균수심, 총잠수시간, 횟수

#### [F10] 분석 및 인사이트
- 트렌드 분석 (주/월 단위 변화)  
- AI 추천: 회복비율·깊이 성장 추세 기반 훈련 제안

#### [F11] 커뮤니티 기능
- 버디 추가 및 로그 공유  
- 다이브 스팟 지도, 리뷰 등록  
- 챌린지 랭킹 (선택 기능)

#### [F12] 설정 및 클라우드 관리
- 워치 알림 깊이 / 휴식 시간 설정  
- iCloud 자동 백업 / 복원  
- 데이터 내보내기 (PDF / CSV)

---

## 5️⃣ 비기능적 요구사항 (Non-functional Requirements)

| 분류 | 요구사항 |
|------|-----------|
| **Free Diving 전용** | 초중급 프리다이빙 기본 기능에 충실(스쿠버다이빙 기능은 제외) |
| **UX/UI** | - 수중 가독성 확보 (고대비, 대형 폰트, 햅틱 중심)<br>- 오프라인 환경에서도 기능 작동<br>- 워치 조작 최소화 (자동 감지 기반) |
| **호환성** | - watchOS 11 이상 / iOS 18 이상 지원<br>- Apple Watch Ultra, Ultra 2 최적화<br>- HealthKit, CoreMotion, CoreLocation API 연동 |
| **신뢰성** | - 데이터 손실 방지 (로컬 캐싱 후 동기화)<br>- 로그 데이터 검증 (깊이값 오류 필터링) |
| **현지화** | - 영어 / 한국어 지원 (i18n 구조 적용) |

---

## 6️⃣ 성능 요구사항 (Performance Requirements)

| 항목 | 요구 기준 |
|------|-------------|
| **센서 데이터 주기** | 0.5초 간격 이내로 수심 업데이트 |
| **워치-아이폰 동기화 시간** | 세션 종료 후 10초 이내 데이터 전송 완료 |
| **배터리 효율** | 2시간 연속 다이빙 시 배터리 소모 < 15% |
| **UI 응답속도** | 주요 화면 전환 시간 < 200ms |
| **로그 저장 용량** | 최소 10,000 다이브 기록 저장 가능 |
| **데이터 무결성** | 동기화 성공률 99% 이상 |

---

## 7️⃣ 제약사항 (Constraints)

| 구분 | 내용 |
|------|------|
| **하드웨어 제약** | 수심 측정은 Apple Watch Ultra(Pressure Sensor 탑재 모델)에 한정 |
| **API 제한** | Apple HealthKit/WatchConnectivity 범위 내 기능 사용 (자체 센서 접근 불가) |
| **법적 제약** | 레크리에이션 한도(40m) 초과 다이빙은 “기록은 가능하되 안내·보조 금지” 문구 표시 |
| **안전성 표기 의무** | 앱 시작 시 “본 앱은 의료기기 아님, 참고용 기록 서비스” 명시 |
| **네트워크 제약** | 수중 BLE/Wi-Fi 불가 → 완전 오프라인 로깅 구조 필수 |
| **데이터 정책** | Apple의 개인정보 보호정책 준수, 서버 외부 전송 최소화 |

---

## 8️⃣ 향후 개선사항 (Future Considerations)
- AI 기반 “Dive Efficiency Score” 개발 (심박수·수심·휴식비율 통합지수)
- 팀/버디 실시간 위치 공유 기능 (수면 GPS 기반)
- 사용자 커뮤니티 연동 (SNS, ClubDeep 기능)

---

## 9️⃣ 성공지표 (Success Metrics)

| 지표 | 목표치 (1년 내) |
|------|------------------|
| 앱 설치 수 | 10,000+ 다운로드 |
| 활성 사용자 비율 (MAU/DAU) | 30% 이상 |
| 평균 세션 로그 수 | 8회/주 |
| 워치-아이폰 동기화 성공률 | 99% 이상 |
| 사용자 만족도 (별점) | 4.5 이상 |

---

## 10️⃣ 부록 (Appendix)

- **플랫폼 아키텍처**  
  - watchOS (SwiftUI) ↔ iOS (Swift + CoreData + iCloud)
- **주요 API**  
  - CoreMotion (Depth), HealthKit (Heart Rate), CoreLocation (Surface GPS)
- **테스트 시나리오**  
  - 정상 다이브 / 빠른 상승 / 휴식 부족 / 긴급신호 등 각 케이스별 로그 확인
- **참고자료**  
  - Garmin Dive, Suunto App, Oceanic+, DeeperBlue Freedive Planner (2025 기준)

---

© 2025 FreeDivingLog Project — All Rights Reserved.
