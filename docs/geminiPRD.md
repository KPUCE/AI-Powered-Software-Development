
## 📄 Product Requirement Document (PRD)

### 1. 개요 (Introduction)

| 항목 | 내용 |
| :--- | :--- |
| **제품명** | Apnea Tracker (아프네아 트래커) |
| **버전** | 1.0 (MVP) |
| **작성일** | 2025년 10월 26일 |
| **목표** | Apple Watch Ultra 2 및 iPhone을 활용하여 프리다이버에게 최적화된 실시간 안전 모니터링, 로그 기록 및 트레이닝 관리 기능을 제공한다. |
| **대상 독자** | 개발팀, 디자인팀, QA팀, 비즈니스 및 마케팅팀 |

---

### 2. 기능적 요구사항 (Functional Requirements, FR)

#### 2.1. Apple Watch Ultra 2 기능 (현장 및 실시간)

| ID | 기능 명칭 | 설명 | 우선순위 |
| :--- | :--- | :--- | :--- |
| **FR-W-01** | 실시간 다이빙 정보 표시 | 현재 수심, 다이빙 경과 시간, 수온을 큼직한 폰트와 고대비 UI로 실시간 표시. | P1 (필수) |
| **FR-W-02** | 심박수(HR) 모니터링 | 다이빙 중 심박수를 실시간으로 측정 및 표시. 수면 휴식 중 회복률 모니터링. | P1 (필수) |
| **FR-W-03** | 상승/하강 속도 표시 및 경고 | 상승/하강 속도(바리오)를 표시하고, 안전 속도 초과 시(예: 9m/min) **햅틱 및 시각 경고** 제공. | P1 (필수) |
| **FR-W-04** | 수면 휴식 시간(SI Timer) | 수면 복귀 시 자동으로 타이머를 시작하고, 설정된 최소 휴식 시간 미달 시 경고. | P1 (필수) |
| **FR-W-05** | 목표 알림 및 햅틱 피드백 | iPhone에서 설정된 목표 수심/시간에 도달 시 햅틱 진동 알림 제공. | P2 (높음) |
| **FR-W-06** | 동작 버튼 연동 (다이빙 시작/종료) | 동작 버튼을 눌러 다이빙 세션을 수동으로 시작/종료할 수 있는 기능. | P1 (필수) |
| **FR-W-07** | 데이터 임시 저장 및 동기화 | 다이빙 종료 후 모든 세션 데이터를 워치에 임시 저장하고, iPhone 연결 시 자동 동기화. | P1 (필수) |
| **FR-W-08** | 긴급 버디 알림 기능 | 동작 버튼을 길게 누르는 등 특정 제스처로 버디(iPhone 사용자)에게 긴급 위치/상태 알림 전송 (수면 위에서). | P2 (높음) |

#### 2.2. iPhone 기능 (분석, 계획 및 관리)

| ID | 기능 명칭 | 설명 | 우선순위 |
| :--- | :--- | :--- | :--- |
| **FR-I-01** | 워치 데이터 자동 동기화 | Apple Watch에서 기록된 로그 데이터를 Wi-Fi 또는 셀룰러 연결 시 자동으로 수신 및 저장. | P1 (필수) |
| **FR-I-02** | 상세 로그북 열람 및 편집 | 수신된 로그 데이터(그래프 포함)를 확인하고, 이퀄라이징 방식, 웨이트, 버디 등 상세 메타데이터 입력/편집. | P1 (필수) |
| **FR-I-03** | 누적 통계 및 PB 관리 | 누적 다이빙 횟수, 총 시간, 최고 기록(PB) 등을 시각화하여 대시보드 형태로 제공. | P1 (필수) |
| **FR-I-04** | 다이빙 계획 설정 및 전송 | 다이빙 스팟 위치 기반 환경 정보(날씨, 조류 등) 확인. 목표 수심/SI 시간을 설정하여 워치로 전송. | P2 (높음) |
| **FR-I-05** | CO2/O2 트레이닝 플래너 (프리미엄) | 사용자 맞춤형 무호흡 트레이닝(테이블)을 생성하고, 훈련 로그를 기록/추적. | P2 (높음) |
| **FR-I-06** | 디지털 로그 서명/인증 | QR 코드 또는 버디 연동을 통해 강사/버디에게 로그 기록의 인증(서명)을 요청하고 관리. | P2 (높음) |
| **FR-I-07** | 다이빙 스팟 히트맵 및 리뷰 (커뮤니티) | 전 세계 프리다이빙 스팟 정보(수심, 시야 등 특화 항목 포함)를 공유 및 리뷰. | P3 (보통) |
| **FR-I-08** | 프리미엄 구독 관리 | 인앱 결제(App Store)를 통한 월/연간 구독 관리 기능 구현. | P1 (필수) |

---

### 3. 비기능적 요구사항 (Non-Functional Requirements, NFR)

#### 3.1. 성능 요구사항 (Performance Requirements, PER)

| ID | 요구사항 | 목표/지표 |
| :--- | :--- | :--- |
| **PER-01** | 워치 실시간 데이터 업데이트 | 수심, 시간, 심박수는 **1초 이내**로 화면에 업데이트되어야 함. |
| **PER-02** | 데이터 동기화 속도 | 1시간 분량의 다이빙 세션 로그를 워치에서 iPhone으로 **5초 이내**에 동기화 완료해야 함. |
| **PER-03** | 앱 시작 및 전환 속도 | Apple Watch 앱 실행 및 다이빙 모드 전환 시간이 **3초 이내**여야 함. |
| **PER-04** | 서버 응답 시간 | 로그북 조회, 커뮤니티 데이터 로딩 시 서버 응답 시간이 **2초 이내**여야 함. |

#### 3.2. 안정성 및 보안 요구사항 (Reliability & Security Requirements, SEC)

| ID | 요구사항 | 목표/지표 |
| :--- | :--- | :--- |
| **SEC-01** | 로그 데이터 무결성 | 다이빙 로그 데이터는 **99.999%**의 무결성을 보장하며, 손실되거나 변조되지 않아야 함. |
| **SEC-02** | 데이터 암호화 | 워치와 iPhone 간의 데이터 전송 및 서버 저장 시 모든 개인 건강 정보(HR, 위치 등)는 **AES-256 이상**으로 암호화되어야 함. |
| **SEC-03** | 고가용성 | 서비스 백엔드는 **99.9%**의 가용성을 유지해야 함. |
| **SEC-04** | 개인정보 보호 | 사용자의 로그 및 위치 정보는 GDPR 및 국내법을 준수하여 처리되어야 함. |

#### 3.3. 사용성 요구사항 (Usability Requirements, USR)

| ID | 요구사항 | 목표/지표 |
| :--- | :--- | :--- |
| **USR-01** | 워치 UI 시인성 | 다이빙 중 워치 화면의 주요 정보는 어두운 수중 환경에서도 **즉시 식별 가능**하도록 고대비 색상과 큼직한 폰트 사용. |
| **USR-02** | 햅틱 피드백 명확성 | 경고 햅틱 피드백은 사용자가 장갑을 꼈거나 수중 소음이 있는 상황에서도 **명확히 인지 가능**하도록 강력해야 함. |
| **USR-03** | 학습 용이성 | 일반적인 프리다이버가 별도의 매뉴얼 없이 **5분 이내**에 주요 기능(다이빙 시작/종료, 로그 확인) 사용 방법을 숙지 가능해야 함. |

---

### 4. 제약사항 (Constraints, CON)

| ID | 제약사항 | 상세 내용 |
| :--- | :--- | :--- |
| **CON-01** | 하드웨어 종속성 | **Apple Watch Ultra 2** (또는 Ultra 1) 모델만 지원하며, 타사 스마트워치 및 구형 Apple Watch 모델은 지원하지 않음. |
| **CON-02** | 소프트웨어 버전 | iOS **17.0 이상** 및 watchOS **10.0 이상**을 지원해야 함. |
| **CON-03** | 최대 수심 제한 | Apple Watch Ultra의 공식 사양에 따라 다이빙 모드 지원은 최대 **40m**로 제한됨. |
| **CON-04** | 수중 통신 | 다이빙 중에는 Apple Watch와 iPhone 간의 실시간 Bluetooth 통신이 불가능하므로, 모든 실시간 모니터링 및 경고는 **워치 단독**으로 처리해야 함. |
| **CON-05** | 심박수 정확도 | 수중 환경의 특성상 심박수 센서의 데이터 정확도에 한계가 있을 수 있으며, 이 점을 사용자에게 명시해야 함. |
| **CON-06** | 예산 및 일정 | MVP(버전 1.0) 개발 완료 기한은 **X개월** 이내이며, 초기 예산을 초과할 수 없음. |
